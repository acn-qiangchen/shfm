# SHFM (Simple Household Financial Management) 要件定義

## 1. プロジェクト概要

家計簿を簡単に管理するためのWebアプリケーション。収支の記録、分析、可視化を行うことができる。

## 2. 技術スタック

### フロントエンド
- React 18.x + TypeScript
- AWS Amplify UI (認証)
- TailwindCSS (スタイリング)
- HeadlessUI (UIコンポーネント)
- React Query (データ取得・キャッシュ)
- Recharts (グラフ描画)

### バックエンド
- AWS Lambda (Node.js 18.x)
- Amazon DynamoDB
- Amazon Cognito
- AWS API Gateway

### インフラストラクチャ
- AWS Serverlessサービス
- AWS Amplify (フロントエンドホスティング)
- GitHub Actions (CI/CD)

## 3. 機能要件

### 3.1 認証機能
- [x] ソーシャルログイン（Google, Apple）
- [x] ログアウト
- [x] 認証状態の永続化

### 3.2 トランザクション管理
- [x] 収支の登録
  - 日付
  - 金額
  - 種別（収入/支出）
  - 説明
  - タグ（複数選択可）
- [x] トランザクション一覧表示
  - 日付順の表示
  - フィルタリング機能
  - ページネーション
- [x] トランザクションの編集
- [x] トランザクションの削除

### 3.3 タグ管理
- [x] タグの作成
  - タグ名
  - 色
- [x] タグ一覧表示
- [x] タグの編集
- [x] タグの削除
- [ ] タグによる支出の分類

### 3.4 集計・分析機能
- [x] 月次サマリー
  - 総収入
  - 総支出
  - 収支バランス
- [x] タグ別集計
  - 円グラフによる支出割合の表示
  - タグ別支出金額の表示
- [x] 期間指定の集計
  - 期間の自由な指定
  - 期間ごとの収支推移グラフ

## 4. 非機能要件

### 4.1 ユーザビリティ
- モバイルファーストのレスポンシブデザイン
- 直感的な操作性
- 素早い入力が可能なUI

### 4.2 パフォーマンス
- ページロード時間：2秒以内
- API応答時間：1秒以内
- スムーズなアニメーション

### 4.3 セキュリティ
- AWS Cognitoによる認証
- HTTPSによる通信
- データの暗号化
- クロスサイトスクリプティング（XSS）対策
- クロスサイトリクエストフォージェリ（CSRF）対策

### 4.4 スケーラビリティ
- Serverlessアーキテクチャによる自動スケーリング
- DynamoDBのオートスケーリング

## 5. 開発フェーズ

### Phase 1: 基本認証・データ構造
- [x] Cognitoの設定（ソーシャルログイン含む）
- [x] DynamoDBテーブル作成
- [x] 基本的なAPI実装

### Phase 2: コア機能実装
- [x] トランザクション登録/編集/削除機能
- [x] タグ管理機能
- [x] モバイルフレンドリーなUI実装

### Phase 3: 集計・分析機能
- [x] 月次サマリー
- [x] タグ別集計
- [x] グラフ表示

## 6. 将来の拡張可能性

### 6.1 追加機能候補
- 予算管理機能
- レシート画像のアップロードと自動認識
- 定期的な支出の自動登録
- 家族メンバーとの共有機能
- カスタムレポート機能
- データのエクスポート機能
- 通知機能

### 6.2 技術的な拡張
- オフライン対応
- PWA化
- 多言語対応
- テーマカスタマイズ
- バックアップ/リストア機能 